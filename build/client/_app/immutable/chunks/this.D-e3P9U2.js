import{b as R,P as u,c as d,p as T,h as n,a as S,E as k,M as N,N as x,K as O,O as E,d as b,a6 as g,a7 as q,x as F,R as L,a8 as M}from"./runtime.CUd8L4PE.js";function Y(a,f,e,c=null,i=!1){n&&S();var s=a,r=null,t=null,l=null,y=i?k:0;R(()=>{if(l===(l=!!f()))return;let h=!1;if(n){const A=s.data===N;l===A&&(s=x(),O(s),E(!1),h=!0)}l?(r?u(r):r=d(()=>e(s)),t&&T(t,()=>{t=null})):(t?u(t):c&&(t=d(()=>c(s))),r&&T(r,()=>{r=null})),h&&E(!0)},y),n&&(s=b)}function _(a,f){return a===f||(a==null?void 0:a[M])===f}function v(a={},f,e,c){return g(()=>{var i,s;return q(()=>{i=s,s=[],F(()=>{a!==e(...s)&&(f(a,...s),i&&_(e(...i),a)&&f(null,...i))})}),()=>{L(()=>{s&&_(e(...s),a)&&f(null,...s)})}}),a}export{v as b,Y as i};
