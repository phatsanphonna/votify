import{s as c}from"./utils.BBtvxxXF.js";import{Z as f,_ as b,z as o,e as a,g as l}from"./runtime.BebzK8jN.js";let n=!1;function _(e,r,u){const s=u[r]??(u[r]={store:null,source:b(void 0),unsubscribe:o});if(s.store!==e)if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=o;else{var i=!0;s.unsubscribe=c(e,t=>{i?s.source.v=t:a(s.source,t)}),i=!1}return l(s.source)}function g(){const e={};return f(()=>{for(var r in e)e[r].unsubscribe()}),e}function v(e){var r=n;try{return n=!1,[e(),n]}finally{n=r}}export{_ as a,v as c,g as s};
