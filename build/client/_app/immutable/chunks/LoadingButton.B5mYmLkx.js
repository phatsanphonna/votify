var H=e=>{throw TypeError(e)};var Q=(e,t,s)=>t.has(e)||H("Cannot "+s);var c=(e,t,s)=>(Q(e,t,"read from private field"),s?s.call(e):t.get(e)),L=(e,t,s)=>t.has(e)?H("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),N=(e,t,s,i)=>(Q(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s),P=(e,t,s)=>(Q(e,t,"access private method"),s);import{r as J,g as lt,d as ct}from"./index.BkiM7uAi.js";import{S as ut,s as ht,h as T,g as dt,n as st,a as ft}from"./context.DnMfB6UO.js";import"./disclose-version.Bg9kRutz.js";import{I as bt,f as M,e as D,g as G,t as W,az as X,j as q,k as et,i as vt,r as mt,l as Y}from"./runtime.aUzNjL39.js";import{c as S,a as O,t as gt}from"./template.DeaMfOID.js";import{i as it}from"./if.DtqLP0Zw.js";import{s as yt}from"./snippet.CwITyDou.js";import{l as R,s as F,a as E,r as _t}from"./props.XMVdRfqy.js";import{a as kt,c as at}from"./utils.rToxleUx.js";import{b as nt}from"./index.1APeLoBs.js";import{s as j}from"./slot.CNa0AiKR.js";import{i as rt}from"./lifecycle.CnXF_tO4.js";import"./create.Bvef7Gho.js";import{e as u}from"./render.HNL4GQ_1.js";import{I as Ot,e as Z}from"./Icon.2RWYNG04.js";import{b as p}from"./attributes.ccYLxblo.js";import{b as $}from"./this.DgjYA9T8.js";function n(e,t){var a;var s=(a=e.$$events)==null?void 0:a[t.type],i=bt(s)?s.slice():s==null?[]:[s];for(var r of i)r.call(this,t)}var C,x,y,k,w,U,V,tt,wt=(tt=class extends ut{constructor(t,s){super();L(this,w);L(this,C);L(this,x);L(this,y);L(this,k);N(this,C,t),this.setOptions(s),this.bindMethods(),P(this,w,U).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const s=this.options;this.options=c(this,C).defaultMutationOptions(t),ht(this.options,s)||c(this,C).getMutationCache().notify({type:"observerOptionsUpdated",mutation:c(this,y),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&T(s.mutationKey)!==T(this.options.mutationKey)?this.reset():((i=c(this,y))==null?void 0:i.state.status)==="pending"&&c(this,y).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=c(this,y))==null||t.removeObserver(this)}onMutationUpdate(t){P(this,w,U).call(this),P(this,w,V).call(this,t)}getCurrentResult(){return c(this,x)}reset(){var t;(t=c(this,y))==null||t.removeObserver(this),N(this,y,void 0),P(this,w,U).call(this),P(this,w,V).call(this)}mutate(t,s){var i;return N(this,k,s),(i=c(this,y))==null||i.removeObserver(this),N(this,y,c(this,C).getMutationCache().build(c(this,C),this.options)),c(this,y).addObserver(this),c(this,y).execute(t)}},C=new WeakMap,x=new WeakMap,y=new WeakMap,k=new WeakMap,w=new WeakSet,U=function(){var s;const t=((s=c(this,y))==null?void 0:s.state)??dt();N(this,x,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},V=function(t){st.batch(()=>{var s,i,r,a,m,d,b,h;if(c(this,k)&&this.hasListeners()){const g=c(this,x).variables,_=c(this,x).context;(t==null?void 0:t.type)==="success"?((i=(s=c(this,k)).onSuccess)==null||i.call(s,t.data,g,_),(a=(r=c(this,k)).onSettled)==null||a.call(r,t.data,null,g,_)):(t==null?void 0:t.type)==="error"&&((d=(m=c(this,k)).onError)==null||d.call(m,t.error,g,_),(h=(b=c(this,k)).onSettled)==null||h.call(b,void 0,t.error,g,_))}this.listeners.forEach(g=>{g(c(this,x))})})},tt);function Mt(e){return ft()}function St(e){return"subscribe"in e&&typeof e.subscribe=="function"}function Ct(){}function Yt(e,t){const s=Mt(),i=St(e)?e:J(e),r=new wt(s,lt(i));let a;i.subscribe(b=>{a=(h,g)=>{r.mutate(h,g).catch(Ct)},r.setOptions(b)});const m=J(r.getCurrentResult(),b=>r.subscribe(st.batchCalls(h=>b(h)))),{subscribe:d}=ct(m,b=>({...b,mutate:a,mutateAsync:b.mutate}));return{subscribe:d}}function xt(e,t){const s=R(t,["children","$$slots","$$events","$$legacy"]);Ot(e,F({name:"loader-circle"},()=>s,{iconNode:[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]],children:(r,a)=>{var m=S(),d=M(m);j(d,t,"default",{},null),O(r,m)},$$slots:{default:!0}}))}function Et(e,t){const s=[];return t.builders.forEach(i=>{const r=i.action(e);r&&s.push(r)}),{destroy:()=>{s.forEach(i=>{i.destroy&&i.destroy()})}}}function zt(e){const t={};return e.forEach(s=>{Object.keys(s).forEach(i=>{i!=="action"&&(t[i]=s[i])})}),t}function Lt(e,t){const s=R(t,["children","$$slots","$$events","$$legacy"]),i=R(s,["href","type","builders","el"]);D(t,!1);let r=E(t,"href",24,()=>{}),a=E(t,"type",24,()=>{}),m=E(t,"builders",24,()=>[]),d=E(t,"el",28,()=>{});const b={"data-button-root":""};rt();var h=S(),g=M(h);it(g,()=>m()&&m().length,_=>{var z=S(),B=M(z);const v=et(()=>zt(m()));Z(B,()=>r()?"a":"button",!1,(f,A)=>{$(f,l=>d(l),()=>d()),kt(f,(l,ot)=>Et(l,ot),()=>({builders:m()}));let I;W(()=>I=p(f,I,{type:r()?void 0:a(),href:r(),tabindex:"0",...q(v),...i,...b},void 0,f.namespaceURI===X,f.nodeName.includes("-"))),u("click",f,function(l){n.call(this,t,l)}),u("change",f,function(l){n.call(this,t,l)}),u("keydown",f,function(l){n.call(this,t,l)}),u("keyup",f,function(l){n.call(this,t,l)}),u("mouseenter",f,function(l){n.call(this,t,l)}),u("mouseleave",f,function(l){n.call(this,t,l)}),u("mousedown",f,function(l){n.call(this,t,l)}),u("pointerdown",f,function(l){n.call(this,t,l)}),u("mouseup",f,function(l){n.call(this,t,l)}),u("pointerup",f,function(l){n.call(this,t,l)});var K=S(),o=M(K);j(o,t,"default",{},null),O(A,K)}),O(_,z)},_=>{var z=S(),B=M(z);Z(B,()=>r()?"a":"button",!1,(v,f)=>{$(v,o=>d(o),()=>d());let A;W(()=>A=p(v,A,{type:r()?void 0:a(),href:r(),tabindex:"0",...i,...b},void 0,v.namespaceURI===X,v.nodeName.includes("-"))),u("click",v,function(o){n.call(this,t,o)}),u("change",v,function(o){n.call(this,t,o)}),u("keydown",v,function(o){n.call(this,t,o)}),u("keyup",v,function(o){n.call(this,t,o)}),u("mouseenter",v,function(o){n.call(this,t,o)}),u("mouseleave",v,function(o){n.call(this,t,o)}),u("mousedown",v,function(o){n.call(this,t,o)}),u("pointerdown",v,function(o){n.call(this,t,o)}),u("mouseup",v,function(o){n.call(this,t,o)}),u("pointerup",v,function(o){n.call(this,t,o)});var I=S(),K=M(I);j(K,t,"default",{},null),O(f,I)}),O(_,z)}),O(e,h),G()}function Nt(e,t){const s=R(t,["children","$$slots","$$events","$$legacy"]),i=R(s,["class","variant","size","builders"]);D(t,!1);let r=E(t,"class",8,void 0),a=E(t,"variant",8,"default"),m=E(t,"size",8,"default"),d=E(t,"builders",24,()=>[]);rt();var b=et(()=>at(nt({variant:a(),size:m(),className:r()})));Lt(e,F({get builders(){return d()},get class(){return q(b)},type:"button"},()=>i,{$$events:{click(h){n.call(this,t,h)},keydown(h){n.call(this,t,h)}},children:(h,g)=>{var _=S(),z=M(_);j(z,t,"default",{},null),O(h,_)},$$slots:{default:!0}})),G()}var Pt=gt('<div class="flex items-center justify-center text-accent"><!></div>');function Zt(e,t){D(t,!0);let s=_t(t,["$$slots","$$events","$$legacy","children","class","disabled","isLoading"]);var i=Y(()=>at(nt({className:t.class}))),r=Y(()=>t.disabled||t.isLoading);Nt(e,F({get class(){return q(i)},get disabled(){return q(r)}},()=>s,{$$events:{click(a){n.call(this,t,a)},change(a){n.call(this,t,a)},keydown(a){n.call(this,t,a)},keyup(a){n.call(this,t,a)},mouseenter(a){n.call(this,t,a)},mouseleave(a){n.call(this,t,a)}},children:(a,m)=>{var d=Pt(),b=vt(d);it(b,()=>t.isLoading,h=>{xt(h,{class:"mr-2 h-4 w-4 animate-spin"})},h=>{var g=S(),_=M(g);yt(_,()=>t.children),O(h,g)}),mt(d),O(a,d)},$$slots:{default:!0}})),G()}export{Zt as L,n as b,Yt as c};
