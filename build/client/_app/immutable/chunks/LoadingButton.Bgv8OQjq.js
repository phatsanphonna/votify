var H=e=>{throw TypeError(e)};var G=(e,t,s)=>t.has(e)||H("Cannot "+s);var c=(e,t,s)=>(G(e,t,"read from private field"),s?s.call(e):t.get(e)),N=(e,t,s)=>t.has(e)?H("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),z=(e,t,s,i)=>(G(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s),P=(e,t,s)=>(G(e,t,"access private method"),s);import{r as J,g as lt,d as ct}from"./index.BPDzd7Iu.js";import{S as ut,s as dt,h as T,g as ht,n as st,a as ft,I as bt,e as W,b as et}from"./index.ysDOyIPM.js";import"./disclose-version.Bg9kRutz.js";import{G as vt,f as M,e as V,g as D,t as X,aK as Y,j as U,aq as it,i as mt,r as gt,y as Z}from"./runtime.8MaW9EIQ.js";import{d as S,a as k,t as yt}from"./template.DEdvQlwJ.js";import{i as at,b as p}from"./index-client.D8m34BzE.js";import{s as _t}from"./snippet.DSd6ii3V.js";import{l as R,s as F,p as E,r as Ot}from"./props.MJjq2fm6.js";import{a as kt,c as nt}from"./utils.CH0gNPov.js";import{s as j}from"./create.BlF16bQl.js";import{i as rt}from"./lifecycle.3nKBxlw8.js";import{e as u}from"./render.DNC5ILtV.js";import{b as $}from"./attributes.C4eqOsKD.js";function n(e,t){var a;var s=(a=e.$$events)==null?void 0:a[t.type],i=vt(s)?s.slice():s==null?[]:[s];for(var r of i)r.call(this,t)}var C,x,y,O,w,I,Q,tt,wt=(tt=class extends ut{constructor(t,s){super();N(this,w);N(this,C);N(this,x);N(this,y);N(this,O);z(this,C,t),this.setOptions(s),this.bindMethods(),P(this,w,I).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const s=this.options;this.options=c(this,C).defaultMutationOptions(t),dt(this.options,s)||c(this,C).getMutationCache().notify({type:"observerOptionsUpdated",mutation:c(this,y),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&T(s.mutationKey)!==T(this.options.mutationKey)?this.reset():((i=c(this,y))==null?void 0:i.state.status)==="pending"&&c(this,y).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=c(this,y))==null||t.removeObserver(this)}onMutationUpdate(t){P(this,w,I).call(this),P(this,w,Q).call(this,t)}getCurrentResult(){return c(this,x)}reset(){var t;(t=c(this,y))==null||t.removeObserver(this),z(this,y,void 0),P(this,w,I).call(this),P(this,w,Q).call(this)}mutate(t,s){var i;return z(this,O,s),(i=c(this,y))==null||i.removeObserver(this),z(this,y,c(this,C).getMutationCache().build(c(this,C),this.options)),c(this,y).addObserver(this),c(this,y).execute(t)}},C=new WeakMap,x=new WeakMap,y=new WeakMap,O=new WeakMap,w=new WeakSet,I=function(){var s;const t=((s=c(this,y))==null?void 0:s.state)??ht();z(this,x,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Q=function(t){st.batch(()=>{var s,i,r,a,m,h,b,d;if(c(this,O)&&this.hasListeners()){const g=c(this,x).variables,_=c(this,x).context;(t==null?void 0:t.type)==="success"?((i=(s=c(this,O)).onSuccess)==null||i.call(s,t.data,g,_),(a=(r=c(this,O)).onSettled)==null||a.call(r,t.data,null,g,_)):(t==null?void 0:t.type)==="error"&&((h=(m=c(this,O)).onError)==null||h.call(m,t.error,g,_),(d=(b=c(this,O)).onSettled)==null||d.call(b,void 0,t.error,g,_))}this.listeners.forEach(g=>{g(c(this,x))})})},tt);function Mt(e){return ft()}function St(e){return"subscribe"in e&&typeof e.subscribe=="function"}function Ct(){}function Jt(e,t){const s=Mt(),i=St(e)?e:J(e),r=new wt(s,lt(i));let a;i.subscribe(b=>{a=(d,g)=>{r.mutate(d,g).catch(Ct)},r.setOptions(b)});const m=J(r.getCurrentResult(),b=>r.subscribe(st.batchCalls(d=>b(d)))),{subscribe:h}=ct(m,b=>({...b,mutate:a,mutateAsync:b.mutate}));return{subscribe:h}}function xt(e,t){const s=R(t,["children","$$slots","$$events","$$legacy"]);bt(e,F({name:"loader-circle"},()=>s,{iconNode:[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]],children:(r,a)=>{var m=S(),h=M(m);j(h,t,"default",{},null),k(r,m)},$$slots:{default:!0}}))}function Et(e,t){const s=[];return t.builders.forEach(i=>{const r=i.action(e);r&&s.push(r)}),{destroy:()=>{s.forEach(i=>{i.destroy&&i.destroy()})}}}function Lt(e){const t={};return e.forEach(s=>{Object.keys(s).forEach(i=>{i!=="action"&&(t[i]=s[i])})}),t}function Nt(e,t){const s=R(t,["children","$$slots","$$events","$$legacy"]),i=R(s,["href","type","builders","el"]);V(t,!1);let r=E(t,"href",24,()=>{}),a=E(t,"type",24,()=>{}),m=E(t,"builders",24,()=>[]),h=E(t,"el",28,()=>{});const b={"data-button-root":""};rt();var d=S(),g=M(d);at(g,()=>m()&&m().length,_=>{var L=S(),B=M(L);const v=it(()=>Lt(m()));W(B,()=>r()?"a":"button",!1,(f,q)=>{p(f,l=>h(l),()=>h()),kt(f,(l,ot)=>Et(l,ot),()=>({builders:m()}));let K;X(()=>K=$(f,K,{type:r()?void 0:a(),href:r(),tabindex:"0",...U(v),...i,...b},void 0,f.namespaceURI===Y,f.nodeName.includes("-"))),u("click",f,function(l){n.call(this,t,l)}),u("change",f,function(l){n.call(this,t,l)}),u("keydown",f,function(l){n.call(this,t,l)}),u("keyup",f,function(l){n.call(this,t,l)}),u("mouseenter",f,function(l){n.call(this,t,l)}),u("mouseleave",f,function(l){n.call(this,t,l)}),u("mousedown",f,function(l){n.call(this,t,l)}),u("pointerdown",f,function(l){n.call(this,t,l)}),u("mouseup",f,function(l){n.call(this,t,l)}),u("pointerup",f,function(l){n.call(this,t,l)});var A=S(),o=M(A);j(o,t,"default",{},null),k(q,A)}),k(_,L)},_=>{var L=S(),B=M(L);W(B,()=>r()?"a":"button",!1,(v,f)=>{p(v,o=>h(o),()=>h());let q;X(()=>q=$(v,q,{type:r()?void 0:a(),href:r(),tabindex:"0",...i,...b},void 0,v.namespaceURI===Y,v.nodeName.includes("-"))),u("click",v,function(o){n.call(this,t,o)}),u("change",v,function(o){n.call(this,t,o)}),u("keydown",v,function(o){n.call(this,t,o)}),u("keyup",v,function(o){n.call(this,t,o)}),u("mouseenter",v,function(o){n.call(this,t,o)}),u("mouseleave",v,function(o){n.call(this,t,o)}),u("mousedown",v,function(o){n.call(this,t,o)}),u("pointerdown",v,function(o){n.call(this,t,o)}),u("mouseup",v,function(o){n.call(this,t,o)}),u("pointerup",v,function(o){n.call(this,t,o)});var K=S(),A=M(K);j(A,t,"default",{},null),k(f,K)}),k(_,L)}),k(e,d),D()}function zt(e,t){const s=R(t,["children","$$slots","$$events","$$legacy"]),i=R(s,["class","variant","size","builders"]);V(t,!1);let r=E(t,"class",8,void 0),a=E(t,"variant",8,"default"),m=E(t,"size",8,"default"),h=E(t,"builders",24,()=>[]);rt();var b=it(()=>nt(et({variant:a(),size:m(),className:r()})));Nt(e,F({get builders(){return h()},get class(){return U(b)},type:"button"},()=>i,{$$events:{click(d){n.call(this,t,d)},keydown(d){n.call(this,t,d)}},children:(d,g)=>{var _=S(),L=M(_);j(L,t,"default",{},null),k(d,_)},$$slots:{default:!0}})),D()}var Pt=yt('<div class="flex items-center justify-center text-accent"><!></div>');function Tt(e,t){V(t,!0);let s=Ot(t,["$$slots","$$events","$$legacy","children","class","disabled","isLoading"]);var i=Z(()=>nt(et({className:t.class}))),r=Z(()=>t.disabled||t.isLoading);zt(e,F({get class(){return U(i)},get disabled(){return U(r)}},()=>s,{$$events:{click(a){n.call(this,t,a)},change(a){n.call(this,t,a)},keydown(a){n.call(this,t,a)},keyup(a){n.call(this,t,a)},mouseenter(a){n.call(this,t,a)},mouseleave(a){n.call(this,t,a)}},children:(a,m)=>{var h=Pt(),b=mt(h);at(b,()=>t.isLoading,d=>{xt(d,{class:"mr-2 h-4 w-4 animate-spin"})},d=>{var g=S(),_=M(g);_t(_,()=>t.children),k(d,g)}),gt(h),k(a,h)},$$slots:{default:!0}})),D()}export{Tt as L,n as b,Jt as c};
